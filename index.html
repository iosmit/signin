<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A-One Smoke Shop</title>
<meta name="title" content="A-One Smoke Shop">
<meta name="description" content="A-One Smoke Shop">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href="style.css">

  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
<link rel="manifest" href="./favicon/site.webmanifest">
<link rel="mask-icon" href="./favicon/safari-pinned-tab.svg" color="#000000">
<link rel="shortcut icon" href="./favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-config" content="./favicon/browserconfig.xml">
<meta name="theme-color" content="#000000">

</head>

<body>
  <script> 
    function discount() { 
      var nameInput = document.getElementById("name");
      var phoneInput = document.getElementById("phone");
      const phoneNumberRegex = /^[1-9]{1}[0-9]{9}$/;
      if (nameInput && nameInput.value && phoneInput && phoneInput.value){
        if (phoneNumberRegex.test(phoneInput.value)) {
       var e = document.getElementById("mainpage");
       var f = document.getElementById("couponpage");
       if(e.style.display == 'block')
          e.style.display = 'none';
          f.style.display = 'block';
          let randomCode = (Math.random() + 1).toString(36).substring(6);
          document.getElementById("couponcode").innerHTML= randomCode;
    }
  }
  } 

 </script>
 
    <main class="flexbox-col" id="mainpage" style="display: block;">
      <img src="aonelogo.png">
        <div class="form-wrapper">
          <form id="form" method="post" name="emailform" target="iframe" action="https://script.google.com/macros/s/AKfycbzFfo787-GZlrMVJFly7jaViUV9FDxCHYZdP6hvSbyH8FL9uPoq8hu3qhfPHQo6Snyp/exec">
            <div class="form-input-max">
            <div class="form-input-wrapper flexbox-left">
              <input class="form-input" type="name" id="name" name="Name" placeholder="Name" aria-label="" required>
            </div>
          </div>

          <div class="form-input-max">
            <div class="form-input-wrapper flexbox-left">
              <input class="form-input" type="tel" id="phone" name="Phone" pattern="[1-9]{1}[0-9]{9}" title="Enter a valid phone number" placeholder="Phone Number" aria-label="" required>
            </div>
          </div> 

           <div class="form-input-max center">
            <div class="button-wrapper">
              <button onclick = "discount()" id="form-button" type="submit" class="button">Give me my discount</button>
             </div>
           </div>
         </form>
        </div>
        <iframe name="iframe" style="position: absolute;width:0;height:0;border:0;"></iframe>
      </main>



      <main class="flexbox-col" id="couponpage" style="display: none;">
       <h3>Coupon Code:</h3>
        <coupon>
          <span id="couponcode"></span>
        </coupon>
        
        <br><br>
        <div class="button-wrapper">
          <button onclick= "location.href = 'index.html';" class="backbutton">&#8592; Go Back</button>
         </div>
      </main>
  
</body>

</html>

